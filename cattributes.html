<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/classic/theme-crisp/resources/theme-crisp-all.css" rel="stylesheet" />-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.0.0/ext-all.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.2/d3.min.js"></script>
    <script src="scripts/d3pie.min.js"></script>

    <script src="scripts/models.js"></script>
    <script src="scripts/piechart.js"></script>

    <link rel="stylesheet" type="text/css" href="style/main.css">
    <link rel="stylesheet" type="text/css" href="style/ckstyles.css">
</head>

<body>
    <div id="pieChart-body"></div>
    <div id="pieChart-coloreyes"></div>
    <div id="pieChart-colorprimary"></div>
    <div id="pieChart-colorsecondary"></div>
    <div id="pieChart-colortertiary"></div>
    <div id="pieChart-eyes"></div>
    <div id="pieChart-mouth"></div>
    <div id="pieChart-pattern"></div>
    <div id="pieChart-wild"></div>
</body>

<script>
    Ext.onReady(function(){
        populationCattributes( () => {
            cattributes.getGroups().items.forEach( (g) => {
                var content = [];
                g.items.forEach( (i) => {
                    // TODO: add color
                    content.push({label:i.data.description, value:i.data.total});
                });
                generatePieChart(`pieChart-${g.config.groupKey}`, content);
            });
        });

    });
</script>

</html>